import{u as e,A as l,a as t,m as a,c as u,r as s,b as r,d as n,g as d,t as o,l as c,f as i,i as v,E as p,k as m,B as b,J as S,F as f,y as w,n as y,o as h}from"./vendor.ee801e80.js";const P={class:"mt-12 flex sm:block py-4 sm:mb-4 text-4xl text-orange-siruba"},I={class:"flex items-center"},x={class:"mr-5 sm:mr-2"},A={class:"btn btnBlueColor"},_={class:"mb-5 w-full shadow sirubaBorder"},C={class:"flex items-center justify-between h-16 pl-8 sm:pl-4 pr-10 sm:pr-4 titleStyle border-b"},g={class:"flex items-center text-xl"},T=d("i",{class:"pe-7s-ticket pe-lg pe-va"},null,-1),N={class:"ml-2"},$={class:"py-6 px-4 text-white"},E=["onSubmit"],L={class:"px-4 text-sm"},B={class:"flex flex-wrap"},M={class:"mr-2 mb-5 w-2/12 md:w-3/12 sm:w-5/12"},k={for:"title",class:"pl-2"},O={class:"mr-2 mb-5 w-2/12 md:w-3/12 sm:w-5/12"},U={for:"pin",class:"pl-2"},j={class:"mr-2 mb-5 w-2/12 md:w-3/12 sm:w-5/12"},G={for:"NeedlePitch",class:"pl-2"},V={class:"mr-2 mb-5 w-2/12 md:w-3/12 sm:w-5/12"},q={for:"lowerlimit",class:"pl-2"},D={class:"mr-2 mb-5 w-2/12 md:w-3/12 sm:w-5/12"},R={for:"upperlimit",class:"pl-2"},H={class:"mr-2 mb-5 w-2/12 md:w-3/12 sm:w-5/12"},J={for:"cut",class:"pl-2"},K={class:"mr-2 mb-5 w-2/12 md:w-3/12 sm:w-5/12"},W={for:"multiple",class:"pl-2"},F={class:"mr-2 mb-5 w-2/12 md:w-3/12 sm:w-5/12"},X={for:"multiple",class:"pl-2"},Y={class:"mb-5 w-2/12 md:w-3/12 sm:w-5/12"},z={for:"description",class:"pl-2"},Q={class:"w-full"},Z=["value"],ee={class:"mr-2 mb-5 w-2/12 md:w-3/12 sm:w-5/12"},le={class:"mx-2 w-full"},te={for:"isProcessMajor",class:"w-full"},ae={class:"w-full pl-2"},ue=[d("i",{class:"pe-7s-close pe-2x pe-va"},null,-1)],se={class:"mr-2 mb-5 w-2/12 md:w-3/12 sm:w-5/12"},re={for:"multiple",class:"pl-2"},ne={class:"mr-2 mb-5 w-2/12 md:w-3/12 sm:w-5/12"},de={for:"multiple",class:"pl-2"},oe={class:"flex mb-2"},ce=["onClick"],ie={type:"submit",class:"btn btnBlueColor"},ve={class:"table-fixed w-full shadow-2xl"},pe={class:"tableThStyle"},me={key:0},be={class:"text-center bg-red-500 tableBorderStyle"},Se=d("td",null,null,-1),fe=d("td",null,null,-1),we=d("td",null,null,-1),ye=d("td",null,null,-1),he=d("td",null,null,-1),Pe={class:"py-1"},Ie=d("td",null,null,-1),xe=d("td",null,null,-1),Ae=d("td",null,null,-1),_e=d("td",null,null,-1),Ce=d("td",null,null,-1),ge={key:1},Te=["Key","onClick"],Ne={class:"py-2 text-center tableBorderStyle overflow-hidden"},$e={class:"text-center tableBorderStyle overflow-hidden"},Ee={class:"text-center tableBorderStyle overflow-hidden"},Le={class:"text-center tableBorderStyle overflow-hidden"},Be={class:"text-center tableBorderStyle overflow-hidden"},Me={class:"text-center tableBorderStyle overflow-hidden"},ke={class:"text-center tableBorderStyle overflow-hidden"},Oe={class:"text-center tableBorderStyle overflow-hidden"},Ue={class:"text-center tableBorderStyle overflow-hidden"},je={class:"text-center tableBorderStyle overflow-hidden"},Ge={class:"text-center tableBorderStyle overflow-hidden"},Ve={setup(Ve){const qe=e(),De=l();t();const Re=a(),He=u((()=>Re.locale.value));u((()=>qe.state.resData.token)),u((()=>qe.state.serverURL));const Je=u((()=>qe.state.processTypeList)),Ke=u((()=>De.query.productId)),We=u((()=>De.query.processId)),Fe=u((()=>JSON.parse(sessionStorage.getItem("processNameArray")))),Xe=s(""),Ye=s(""),ze=s(""),Qe=s(""),Ze=s(""),el=s(""),ll=s(""),tl=s(""),al=s("0"),ul=s(""),sl=s(""),rl=s(""),nl=u((()=>Je.value[He.value])),dl=s(""),ol=u((()=>Xe.value!=dl.value)),cl=s("0"),il=u((()=>"1"==al.value)),vl=()=>{if(il.value){let e="";return"tw"==He.value&&(e="不能移除主要製程"),"en"==He.value&&(e="Cannot remove major process"),"jp"==He.value&&(e="主要なプロセスを削除するできません"),"cn"==He.value&&(e="不能移除主要制程"),alert(e)}return"0"==cl.value?cl.value="1":"1"==cl.value?cl.value="0":void 0};!function(){let e=qe.state.fakeData.theProductSetEditNext[We.value];e&&(Xe.value=e.processName||"",Ye.value=e.processStitch||"",ze.value=e.processStitchLength||"",Qe.value=e.processStitchM||"",Ze.value=e.processStitchP||"",el.value=e.processCut||"",ll.value=e.processTimes||"",ul.value=e.processType||"",tl.value=e.processGSD||"",al.value=e.processMajor||"0",sl.value=e.processG10||"0",rl.value=e.processG10Interval||"0",cl.value=e.processMajor||"0",dl.value=e.processName||"")}();const pl=function(){if(!dl.value){let e="";return"tw"==He.value&&(e="必須輸入製程名稱"),"en"==He.value&&(e="Process name must be entered"),"jp"==He.value&&(e="プロセス名を入力する必要があります"),"cn"==He.value&&(e="必须输入制程名称"),alert(e)}if(ol.value){if(Fe.value.find((e=>e==dl.value))){let e="";return"tw"==He.value&&(e="製程名稱重複"),"cn"==He.value&&(e="制程名称重复"),"jp"==He.value&&(e="プロセス名が重複しています"),"en"==He.value&&(e="Duplicate process name"),alert(e)}}switch(ul.value){case"0":if(parseInt(Ye.value,10)>0)break;{let e="";"tw"==He.value&&(e="針數不能為0"),"cn"==He.value&&(e="针数不能为0"),"jp"==He.value&&(e="ステッチ数を0にすることはできません"),"en"==He.value&&(e="The number of Stitch  cannot be 0"),alert(e);break}case"1":if(parseInt(el.value,10)>0)break;{let e="";"tw"==He.value&&(e="切線不能為0"),"cn"==He.value&&(e="切线不能为0"),"jp"==He.value&&(e="正接を0にすることはできません"),"en"==He.value&&(e="Cut cannot be 0"),alert(e);break}case"2":if(parseInt(Ye.value,10)>0&&parseInt(Qe.value,10)>0&&parseInt(Ze.value,10)>0&&parseInt(el.value,10)>0)break;{let e="";"tw"==He.value&&(e="針數、公差、切線不能為0"),"cn"==He.value&&(e="针数、公差、切线不能为0"),"jp"==He.value&&(e="ステッチ数、許容範囲、正接を0にすることはできません"),"en"==He.value&&(e="The number of Stitch,tolerance,Cut cannot be 0"),alert(e);break}case"3":break;default:let e="";"tw"==He.value&&(e="請選擇計算方式"),"cn"==He.value&&(e="请选择计算方式"),"jp"==He.value&&(e="計算方法を選択してください"),"en"==He.value&&(e="Please select a calculation method"),alert(e)}},ml=s(!1),bl=s(!1),Sl=s({}),fl=function(){};return(e,l)=>{const t=r("router-link");return h(),n(f,null,[d("h1",P,[d("div",I,[d("span",x,o(e.$t("ProductSetEditNext.PSEN_TITLE")),1),c(t,{class:"flex items-center sm:hidden",to:{name:"ProductSetEdit",query:{productId:v(Ke)}}},{default:i((()=>[d("button",A,[d("span",null,o(e.$t("ProductSetAdd.PSA_BACK_PROCESS")),1)])])),_:1},8,["to"])])]),d("div",_,[d("div",C,[d("span",g,[T,d("span",N,o(e.$t("ProductSet.PROSET_PROCESSEDIT")),1)])]),d("div",$,[d("form",{onSubmit:p(pl,["prevent"]),class:"w-full"},[d("div",L,[d("div",B,[d("div",M,[d("div",null,[d("label",k,o(e.$t("ProductSetEditNext.PSEN_NAME")),1)]),d("div",null,[m(d("input",{type:"text",id:"title",class:"myInput w-full","onUpdate:modelValue":l[0]||(l[0]=e=>dl.value=e),required:""},null,512),[[b,dl.value]])])]),d("div",O,[d("div",null,[d("label",U,o(e.$t("ProductSetAdd.PSA_STITCH")),1)]),d("div",null,[m(d("input",{type:"number",id:"pin",min:"0",step:"1",class:"myInput w-full","onUpdate:modelValue":l[1]||(l[1]=e=>Ye.value=e),required:""},null,512),[[b,Ye.value]])])]),d("div",j,[d("div",null,[d("label",G,o(e.$t("GLOBAL.GLOBAL_STITCH_Length"))+"(mm)",1)]),d("div",null,[m(d("input",{type:"number",id:"NeedlePitch",min:"0",step:"0.1",class:"myInput w-full","onUpdate:modelValue":l[2]||(l[2]=e=>ze.value=e)},null,512),[[b,ze.value]])])]),d("div",V,[d("div",null,[d("label",q,o(e.$t("ProductSetAdd.PSA_STITCHLOWLIM")),1)]),d("div",null,[m(d("input",{type:"number",id:"lowerlimit",min:"0",step:"1",class:"myInput w-full","onUpdate:modelValue":l[3]||(l[3]=e=>Qe.value=e),required:""},null,512),[[b,Qe.value]])])]),d("div",D,[d("div",null,[d("label",R,o(e.$t("ProductSetAdd.PSA_STITCHUPLIM")),1)]),d("div",null,[m(d("input",{type:"number",id:"upperlimit",min:"0",step:"1",class:"myInput w-full","onUpdate:modelValue":l[4]||(l[4]=e=>Ze.value=e),required:""},null,512),[[b,Ze.value]])])]),d("div",H,[d("div",null,[d("label",J,o(e.$t("ProductSetAdd.PSA_TRIM")),1)]),d("div",null,[m(d("input",{type:"number",id:"cut",min:"0",step:"1",class:"myInput w-full","onUpdate:modelValue":l[5]||(l[5]=e=>el.value=e),required:""},null,512),[[b,el.value]])])]),d("div",K,[d("div",null,[d("label",W,o(e.$t("ProductSetAdd.PSA_TIMES")),1)]),d("div",null,[m(d("input",{type:"number",id:"multiple",min:"0",step:"0.1",class:"myInput w-full","onUpdate:modelValue":l[6]||(l[6]=e=>ll.value=e),required:""},null,512),[[b,ll.value]])])]),d("div",F,[d("div",null,[d("label",X,o(e.$t("ProductSetAdd.PSA_GSD")),1)]),d("div",null,[m(d("input",{type:"number",id:"multiple",min:"0",step:"0.1",class:"myInput w-full","onUpdate:modelValue":l[7]||(l[7]=e=>tl.value=e),required:""},null,512),[[b,tl.value]])])]),d("div",Y,[d("div",null,[d("label",z,o(e.$t("ProductSetAdd.PSA_CAL")),1)]),d("div",Q,[m(d("select",{class:"w-full myInputSearch","onUpdate:modelValue":l[8]||(l[8]=e=>ul.value=e)},[(h(!0),n(f,null,w(v(nl),((e,l)=>(h(),n("option",{key:"processTypeList"+l,value:l.toString()},o(e),9,Z)))),128))],512),[[S,ul.value]])])]),d("div",ee,[d("div",le,[d("div",null,o(e.$t("ProductSetAdd.PSA_MAJOR")),1),d("div",{class:"relative w-1/2 cursor-pointer",onClick:vl},[d("label",te,[d("div",{class:y(["myInputPopup w-full flex justify-between items-center rounded-full",["0"==cl.value?"":"border-green-300"]])},[d("div",ae,[d("div",{class:y(["w-4 h-0.5 rounded-full transform -rotate-45",["0"==cl.value?"bg-gray-400":"bg-green-400"]])},[d("div",{class:y(["w-1/2 h-full rounded-full transform origin-left translate-x-px -rotate-90",["0"==cl.value?"bg-gray-400":"bg-green-400"]])},null,2)],2)]),d("div",{class:y(["w-full",["0"==cl.value?"text-gray-400":"text-green-400"]])},ue,2)],2)]),d("div",{class:y(["absolute top-0 left-0 duration-1000 p-1 w-1/2 h-full",["0"==cl.value?"":"transform translate-x-full"]])},[d("div",{class:y(["w-full h-full rounded-full border-4",["0"==cl.value?"bg-gray-400 border-gray-500 border-opacity-50":"bg-green-400 border-gray-200 border-opacity-30"]])},null,2)],2)])])]),d("div",se,[d("div",null,[d("label",re,o(e.$t("ProductSetAdd.PSA_RUNNING_TIME")),1)]),d("div",null,[m(d("input",{type:"number",id:"multiple",min:"0",step:"0.1",class:"myInput w-full","onUpdate:modelValue":l[9]||(l[9]=e=>sl.value=e)},null,512),[[b,sl.value]])])]),d("div",ne,[d("div",null,[d("label",de,o(e.$t("ProductSetAdd.PSA_TOLERANCE")),1)]),d("div",null,[m(d("input",{type:"number",id:"multiple",min:"0",step:"0.1",class:"myInput w-full","onUpdate:modelValue":l[10]||(l[10]=e=>rl.value=e)},null,512),[[b,rl.value]])])])]),d("div",oe,[d("button",{class:"mr-2 btn btnYellowColor",onClick:p(fl,["prevent"])},o(e.$t("ProductSetEditNext.PSEN_SAMPLE")),9,ce),d("button",ie,o(e.$t("GLOBAL.GLOBAL_SAVE")),1)]),d("div",{class:y(["mt-5 w-full",[ml.value?"block":"hidden"]])},[d("table",ve,[d("thead",null,[d("tr",pe,[d("th",null,o(e.$t("GLOBAL.GLOBAL_MACHINE")),1),d("th",null,o(e.$t("CatchSample.SP_MODE")),1),d("th",null,o(e.$t("CatchSample.SP_MEDIAN")),1),d("th",null,o(e.$t("CatchSample.SP_MEAN")),1),d("th",null,o(e.$t("ProductSetAdd.PSA_RUNNING_TIME")),1),d("th",null,o(e.$t("CatchSample.SP_MAX")),1),d("th",null,o(e.$t("CatchSample.SP_MIN")),1),d("th",null,o(e.$t("CatchSample.SP_STITCHUPLIM")),1),d("th",null,o(e.$t("CatchSample.SP_STITCHLOWLIM")),1),d("th",null,o(e.$t("ProductSetAdd.PSA_TRIM")),1),d("th",null,o(e.$t("CatchSample.SP_NO")),1)])]),bl.value?(h(),n("tbody",me,[d("tr",be,[Se,fe,we,ye,he,d("td",Pe,o(e.$t("ProductSetEditNext.PSEN_NO_DATA")),1),Ie,xe,Ae,_e,Ce])])):(h(),n("tbody",ge,[(h(!0),n(f,null,w(Sl.value,((e,l)=>(h(),n("tr",{Key:"sampleData"+l,class:"cursor-pointer hover:bg-purple-600",onClick:p((e=>function(e){Ye.value=parseInt(Sl.value[e].mean,10),Ze.value=parseInt(Sl.value[e].sdv_max,10),Qe.value=Math.abs(parseInt(Sl.value[e].sdv_min,10)),sl.value=parseInt(Sl.value[e].s10_average,10),el.value=parseInt(Sl.value[e].s04,10)}(l)),["prevent"])},[d("td",Ne,o(e.machine),1),d("td",$e,o(e.mode),1),d("td",Ee,o(e.median),1),d("td",Le,o(e.mean),1),d("td",Be,o(e.s10_average),1),d("td",Me,o(e.max),1),d("td",ke,o(e.min),1),d("td",Oe,o(e.sdv_max),1),d("td",Ue,o(e.sdv_min),1),d("td",je,o(e.s04),1),d("td",Ge,o(e.no),1)],8,Te)))),256))]))])],2)])],40,E)])])],64)}}};export{Ve as default};
