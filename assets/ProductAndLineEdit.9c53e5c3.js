import{m as e,A as l,a as t,u as s,c as a,r as n,d as u,g as d,t as c,j as i,E as o,k as r,B as m,l as p,f as v,i as h,F as f,o as y,J as L,y as w,h as x}from"./vendor.ee801e80.js";import{d as b}from"./vuedraggable.umd.bb1aeaca.js";const I={class:"mt-12 flex sm:block py-4 sm:mb-4 text-4xl text-orange-siruba"},S={class:"w-full shadow"},A={class:"sirubaBorder mb-4 flex items-center h-16 pl-8 sm:pl-4 pr-10 sm:pr-4 text-lg titleStyle"},C={class:"flex items-center text-xl"},O=d("i",{class:"pe-7s-network pe-lg pe-va"},null,-1),B={class:"ml-3 mr-1"},P={class:"px-8 sm:px-2 py-6 sm:py-4 text-gray-500 text-sm sirubaBorder"},T={class:"mb-5 float-right sm:float-none flex flex-wrap"},_={class:"mr-2 sm:mb-2"},g={key:0,class:"hidden sm:block sm:mb-2"},E=["onSubmit"],k={class:"mb-3 flex w-1/2 md:w-3/4 sm:w-full"},G={class:"w-16 h-9 flex items-center justify-center myInputSearchTitle rounded-l"},M={class:"w-full"},U={class:"mb-3 flex w-full"},R={class:"mr-2 flex w-1/2 md:w-3/4 sm:w-full"},$={class:"w-16 h-9 flex items-center justify-center myInputSearchTitle rounded-l"},j={class:"w-full"},N={key:0,class:"sm:hidden"},D={key:0,class:"flex items-center pl-6 py-4 w-full bg-red-100 text-red-700 rounded"},V={key:1},q={class:"mb-3 flex w-1/2 md:w-3/4 sm:w-full"},H={class:"w-40 sm:w-48 h-9 flex items-center justify-center myInputSearchTitle rounded-l"},Y={class:"w-full"},F=["placeholder"],J={class:"w-full"},K={key:0,class:"hidden lg:flex mb-1 flex-row-reverse"},z=["onClick"],Q={class:"flex lg:block p-1 mb-5 rounded shadow"},W={class:"flex mr-5 lg:mr-0 lg:mb-2 w-5/12 lg:w-full"},X={class:"flex mr-2 lg:mr-5 sm:mr-2"},Z={class:"w-16 h-9 flex items-center justify-center myInputSearchTitle rounded-l"},ee=["onUpdate:modelValue"],le={class:"flex w-full"},te={class:"w-16 h-9 flex items-center justify-center myInputSearchTitle rounded-l"},se={class:"w-full"},ae=["onUpdate:modelValue","onChange"],ne={value:void 0,disabled:"",hidden:""},ue=["value"],de={key:0},ce={class:"flex justify-between lg:justify-start w-5/12 lg:w-full"},ie={class:"flex"},oe={class:"w-16 sm:w-8 h-9 flex items-center justify-center myInputSearchTitle rounded-l"},re=["onUpdate:modelValue"],me={class:"flex lg:mx-2 sm:mx-1"},pe=d("div",{class:"w-8 sm:w-6 h-9 flex items-center justify-center myInputSearchTitle rounded-l"},[d("div",null," + ")],-1),ve=["onUpdate:modelValue"],he={class:"flex lg:mr-2 sm:mr-1"},fe=d("div",{class:"w-8 sm:w-6 h-9 flex items-center justify-center myInputSearchTitle rounded-l"},[d("div",null,"-")],-1),ye=["onUpdate:modelValue"],Le={class:"flex"},we={class:"w-16 sm:w-8 h-9 flex items-center justify-center myInputSearchTitle rounded-l"},xe=["onUpdate:modelValue"],be={key:0,class:"ml-2 lg:hidden"},Ie=["onClick"],Se={type:"submit",class:"btn btnBlueColor"},Ae={setup(Ae){const Ce=e(),Oe=l(),Be=t(),Pe=s();a((()=>Ce.locale.value)),a((()=>Pe.state.resData.adminName)),a((()=>Pe.state.resData.token)),a((()=>Pe.state.serverURL));const Te=a((()=>Oe.query.clpId||"")),_e=n({}),ge=n(""),Ee=n(""),ke=n(""),Ge=n([]),Me=n({}),Ue=n({}),Re=n("0"),$e=n({}),je=n(""),Ne=n(""),De=n(""),Ve=n([]),qe=n([]),He=n(!1),Ye=n(!1),Fe=()=>{Ye.value?Be.push({name:"ProductionLineSet",params:{lineId:Ee.value}}):Be.push("/production_line_set")};!function(){let e=Pe.state.fakeData.productAndLineEdit[Te.value];e&&(_e.value=e.clearList||{},ge.value=e.del||"",Ee.value=e.lineId||"",ke.value=e.lineName||"",Ge.value=Array.isArray(e.machineList)?e.machineList:[],Me.value=e.process||{},Ue.value=e.processList||{},Re.value=e.processMajorId||"0",$e.value=e.processSelect||{},je.value=e.productId||"",Ne.value=e.productName||"",De.value=e.target||"",0==Ge.value.length&&(He.value=!0),Ve.value=function(){let e=Object.keys($e.value);if(e.length>0)return e.map((e=>({id:e,name:$e.value[e]})))}(),qe.value=function(){if(Ge.value.length>0)return Ge.value.map((e=>{let l=Me.value[e.machineId],t=new Object(Ue.value[l]);return{machineId:e.machineId,machineName:e.machineName,machineMajor:e.machineMajor,processId:l,processCut:t.processCut,processStitch:t.processStitch,processStitchM:t.processStitchM,processStitchP:t.processStitchP,processType:t.processType}}))}())}();const Je=function(){},Ke=function(){};return(e,l)=>(y(),u(f,null,[d("h1",I,c(e.$t("GLOBAL.GLOBAL_LINE"))+"-"+c(e.$t("GLOBAL.GLOBAL_PRODUCT")),1),d("div",S,[d("div",A,[d("span",C,[O,d("span",B,c(e.$t("GLOBAL.GLOBAL_ADD"))+" "+c(e.$t("GLOBAL.GLOBAL_LINE"))+"-"+c(e.$t("GLOBAL.GLOBAL_PRODUCT")),1)])]),d("div",P,[d("div",T,[d("div",_,[d("button",{class:"btn btnBlueColor",onClick:Fe},c(e.$t("ProductMachine.PM_BACK")),1)]),"Yes"==ge.value?(y(),u("div",g,[d("button",{class:"btn btnBlueColor",onClick:Ke},c(e.$t("ProductMachine.PM_DELETE")),1)])):i("",!0)]),d("form",{onSubmit:o(Je,["prevent"])},[d("div",k,[d("div",G,[d("div",null,c(e.$t("PRODUCT_LINE.PL_LINE")),1)]),d("div",M,[r(d("input",{type:"text",class:"w-full myInputReadonly rounded-l-none","onUpdate:modelValue":l[0]||(l[0]=e=>ke.value=e),readonly:"",required:""},null,512),[[m,ke.value]])])]),d("div",U,[d("div",R,[d("div",$,[d("div",null,c(e.$t("GLOBAL.GLOBAL_PRODUCT")),1)]),d("div",j,[r(d("input",{type:"text",class:"w-full myInputReadonly rounded-l-none","onUpdate:modelValue":l[1]||(l[1]=e=>Ne.value=e),readonly:"",required:""},null,512),[[m,Ne.value]])])]),"Yes"==ge.value?(y(),u("div",N,[d("button",{class:"btn btnBlueColor",onClick:Ke},c(e.$t("ProductMachine.PM_DELETE")),1)])):i("",!0)]),He.value?(y(),u("div",D,c(e.$t("PRODUCT_LINE.PL_NO_MACHINES")),1)):(y(),u("div",V,[d("div",q,[d("div",H,[d("div",null,c(e.$t("PRODUCT_LINE.PL_TARGET")),1)]),d("div",Y,[r(d("input",{type:"number",min:"0",step:"1",class:"myInput w-full rounded-l-none",placeholder:e.$t("PRODUCT_LINE.PL_TARGET"),"onUpdate:modelValue":l[2]||(l[2]=e=>De.value=e),required:""},null,8,F),[[m,De.value]])])]),d("div",J,[p(h(b),{list:qe.value,"item-key":"name"},{item:v((({element:l})=>[d("div",null,[_e.value[l.machineId]?(y(),u("div",K,[d("button",{class:"btn btnBlueColor",onClick:o((e=>{l.machineId}),["prevent"])},c(e.$t("ProductMachine.PM_CLEAR")),9,z)])):i("",!0),d("div",Q,[d("div",W,[d("div",X,[d("div",Z,[d("div",null,c(e.$t("GLOBAL.GLOBAL_MACHINE")),1)]),d("div",null,[r(d("input",{type:"text",class:"w-42 lg:w-full sm:px-0 rounded-l-none myInputReadonly cursor-move","onUpdate:modelValue":e=>l.machineName=e,readonly:""},null,8,ee),[[m,l.machineName]])])]),d("div",le,[d("div",te,[d("div",null,c(e.$t("GLOBAL.GLOBAL_PROCESS")),1)]),d("div",se,[r(d("select",{class:"w-full myInput rounded-l-none pe-7s-star pe-va","onUpdate:modelValue":e=>l.processId=e,onChange:e=>function(e){let l=qe.value.findIndex((l=>l.machineId==e));if(l>=0){let e=qe.value[l],t=new Object(Ue.value[e.processId]);e.processCut=t.processCut,e.processStitch=t.processStitch,e.processStitchM=t.processStitchM,e.processStitchP=t.processStitchP,e.processType=t.processType}}(l.machineId)},[d("option",ne,c(e.$t("ProductMachine.PM_SELECT")),1),(y(!0),u(f,null,w(Ve.value,((e,l)=>(y(),u("option",{key:"processSelectArray"+l,value:e.id},[Re.value==e.id?(y(),u("span",de,"î˜‘")):i("",!0),x(" "+c(e.name),1)],8,ue)))),128))],40,ae),[[L,l.processId]])])])]),d("div",ce,[d("div",ie,[d("div",oe,[d("div",null,c(e.$t("GLOBAL.GLOBAL_STITCH")),1)]),d("div",null,[r(d("input",{type:"text",class:"w-10 md:w-8 sm:w-8 rounded-l-none myInputReadonly","onUpdate:modelValue":e=>l.processStitch=e,readonly:""},null,8,re),[[m,l.processStitch]])])]),d("div",me,[pe,d("div",null,[r(d("input",{type:"text",class:"w-10 md:w-8 sm:w-8 rounded-l-none myInputReadonly","onUpdate:modelValue":e=>l.processStitchP=e,readonly:""},null,8,ve),[[m,l.processStitchP]])])]),d("div",he,[fe,d("div",null,[r(d("input",{type:"text",class:"w-10 md:w-8 sm:w-8 rounded-l-none myInputReadonly","onUpdate:modelValue":e=>l.processStitchM=e,readonly:""},null,8,ye),[[m,l.processStitchM]])])]),d("div",Le,[d("div",we,[d("div",null,c(e.$t("GLOBAL.GLOBAL_TRIM")),1)]),d("div",null,[r(d("input",{type:"text",class:"w-10 md:w-8 sm:w-8 rounded-l-none myInputReadonly","onUpdate:modelValue":e=>l.processCut=e,readonly:""},null,8,xe),[[m,l.processCut]])])])]),_e.value[l.machineId]?(y(),u("div",be,[d("button",{class:"btn btnBlueColor",onClick:o((e=>{l.machineId}),["prevent"])},c(e.$t("ProductMachine.PM_CLEAR")),9,Ie)])):i("",!0)])])])),_:1},8,["list"])]),d("button",Se,c(e.$t("GLOBAL.GLOBAL_UPDATE")),1)]))],40,E)])])],64))}};export{Ae as default};
