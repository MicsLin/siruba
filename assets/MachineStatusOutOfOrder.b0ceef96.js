import{m as e,r as a,o as l,d as t,g as s,t as r,u as n,a as o,c as u,w as d,x as i,b as c,l as h,f as m,F as v,y as f,h as p}from"./vendor.ee801e80.js";const g={class:"w-full"},b={class:"flex items-center p-4 mb-2.5 w-full h-16 rounded-t bg-red-400 bg-opacity-90"},L={class:"text-lg font-bold"},w=s("span",{class:"mx-1.5 text-red-100"},"-",-1),x={class:"text-sm text-red-100"},M={class:"w-11/12 m-auto text-gray-600"},E={class:"text-left pb-4"},S={class:"w-full table-fixed h-32 min-h-full"},_=s("thead",null,[s("tr",null,[s("th"),s("th",{class:"w-40 lg:w-8/12 sm:w-40"})])],-1),I={class:"leading-7 lg:leading-6 md:leading-7"},A={class:"overflow-hidden"},C={class:"w-full flex-nowrap"},O={class:"leading-7 lg:leading-6 md:leading-7"},y={class:"overflow-hidden"},$={class:"w-full flex-nowrap"},B={class:"leading-7 lg:leading-6 md:leading-7"},G={key:0},R={key:1},T={class:"leading-7 lg:leading-6 md:leading-7"},k={props:{ErrorMachineInfo:Object,ErrorCodeInfo:Object},setup(n){const o=n,u=e();a(u.locale.value);const d=new Date,i=a(),c=a(),h=a(),m=a();return function(){let e=o.ErrorMachineInfo.StartDateTime,a=new Date(e),l=d-a;i.value=parseInt(l/864e5),c.value=parseInt(l%864e5/36e5),h.value=parseInt(l%36e5/6e4),m.value=parseInt(l%6e4/1e3)}(),(e,a)=>(l(),t("div",g,[s("div",b,[s("span",L,r(n.ErrorMachineInfo.MachineName),1),w,s("span",x,r(n.ErrorMachineInfo.LineName),1)]),s("div",M,[s("div",E,[s("table",S,[_,s("tbody",null,[s("tr",I,[s("th",null,r(e.$t("GLOBAL.GLOBAL_TIME"))+"：",1),s("th",A,[s("div",C,r(i.value)+r(e.$t("GLOBAL.GLOBAL_DAY"))+r(c.value)+r(e.$t("GLOBAL.GLOBAL_HOUR"))+r(h.value)+r(e.$t("GLOBAL.GLOBAL_MINUTES"))+r(m.value)+r(e.$t("GLOBAL.GLOBAL_SECOND")),1)])]),s("tr",O,[s("th",y,[s("div",$,r(e.$t("MachineCard.MAC_CODE"))+"：",1)]),s("th",null,r(n.ErrorMachineInfo.ErrorCode),1)]),s("tr",B,[s("th",null,r(e.$t("MachineCard.MAC_ERRORMSG"))+"：",1),s("th",null,[o.ErrorCodeInfo?(l(),t("span",G,r(o.ErrorCodeInfo.ECLInfo),1)):(l(),t("span",R))])]),s("tr",T,[s("th",null,r(e.$t("GLOBAL.GLOBAL_STARTTIME"))+"：",1),s("th",null,r(n.ErrorMachineInfo.StartDateTime),1)])])])])])]))}},D={class:"mt-12 shadow"},N={class:"flex md:block items-center h-16 md:h-32 sm:h-auto md:pt-5 pl-8 sm:pl-4 sm:pr-4 text-lg text-blue-title-text sirubaBorder"},j={class:"md:mb-4 sm:mb-0 sm:flex sm:justify-between"},U={class:"flex items-center text-orange-siruba"},W={class:"hidden md:text-sm sm:block"},z={class:"md:mb-2 border border-red-500 hover:border-opacity-50 bg-red-500 hover:bg-opacity-70 text-white rounded px-5 py-2.5"},F=s("i",{class:"pe-7s-tools pe-lg pe-fw pe-va"},null,-1),H={class:"sm:hidden"},Y={class:"m-auto lg:m-0 lg:ml-2 md:ml-0 md:flex md:flex-wrap lg:text-sm"},q={class:"md:mb-2 sm:mr-2 border border-blue-500 hover:border-opacity-80 hover:bg-blue-500 text-blue-500 hover:text-white rounded px-5 py-2.5"},J=s("i",{class:"pe-7s-note2 pe-lg pe-fw pe-va"},null,-1),K={class:"sm:hidden"},P={class:"sm:hidden mx-10 md:mx-8 sm:mx-2 border border-red-500 hover:border-opacity-50 bg-red-500 hover:bg-opacity-70 text-white rounded px-5 py-2.5"},Q=s("i",{class:"pe-7s-tools pe-lg pe-fw pe-va"},null,-1),V={class:"sm:hidden"},X={class:"md:mb-2 border border-yellow-400 text-yellow-400 hover:bg-yellow-400 hover:text-white rounded px-5 py-2.5"},Z=s("i",{class:"pe-7s-attention pe-lg pe-fw pe-va"},null,-1),ee={class:"sm:hidden"},ae={class:"flex flex-wrap w-full pt-5 text-sm text-white"},le={class:"w-72 lg:w-60 md:w-72 m-auto rounded bg-red-100 bg-opacity-70 shadow-2xl"},te={setup(g){const b=n();o(),u((()=>b.state.resData.token)),u((()=>b.state.serverURL));const L=e(),w=u((()=>L.locale.value)),x=u((()=>b.state.refreshMilliSec)),M=a(),E=a(),S=a([]),_=a([]),I=a([]),A=a([]),C=function(){let e=0;for(_.value=[];e<I.value.length;){switch(w.value){case"tw":let a=A.value.filter((function(a){return"zh"==a.ECLLanguage&&a.ECLCode==I.value[e]}));_.value.push(a);break;case"cn":let l=A.value.filter((function(a){return"ch"==a.ECLLanguage&&a.ECLCode==I.value[e]}));_.value.push(l);break;case"jp":let t=A.value.filter((function(a){return"jp"==a.ECLLanguage&&a.ECLCode==I.value[e]}));_.value.push(t);break;default:let s=A.value.filter((function(a){return"en"==a.ECLLanguage&&a.ECLCode==I.value[e]}));_.value.push(s)}e++}_.value=_.value.flat()},O=function(){let e=b.state.fakeData.machineStatusOutOfOrder;M.value=e.allLineNum,E.value=e.allWarningNum,S.value=e.ErrorMachineInfo,I.value=S.value.map((e=>e.ErrorCode)),A.value=e.ErrorCodeList,C()};O(),d((()=>w.value),(e=>C()));var y=setInterval((function(){O()}),x.value);return i((e=>{clearInterval(y)})),(e,a)=>{const n=c("router-link");return l(),t("div",D,[s("div",N,[s("div",j,[s("span",U,r(e.$t("MachineStatusAll.MS_STATUS")),1),s("div",W,[h(n,{to:"/machine_status_out_of_order"},{default:m((()=>[s("button",z,[F,p(r(e.$t("MachineStatusAll.MS_ERROR")),1),s("span",H,r(e.$t("MachineStatusAll.MS_LIST")),1),p("("+r(S.value.length)+") ",1)])])),_:1})])]),s("div",Y,[h(n,{to:"/machine_status"},{default:m((()=>[s("button",q,[J,p(r(e.$t("MachineStatusAll.MS_ALL")),1),s("span",K,r(e.$t("MachineStatusAll.MS_LIST")),1),p("("+r(M.value)+") ",1)])])),_:1}),h(n,{to:"/machine_status_out_of_order"},{default:m((()=>[s("button",P,[Q,p(r(e.$t("MachineStatusAll.MS_ERROR")),1),s("span",V,r(e.$t("MachineStatusAll.MS_LIST")),1),p("("+r(S.value.length)+") ",1)])])),_:1}),h(n,{to:"/machine_status_warning"},{default:m((()=>[s("button",X,[Z,p(r(e.$t("MachineStatusAll.MS_WARN")),1),s("span",ee,r(e.$t("MachineStatusAll.MS_LIST")),1),p("("+r(E.value)+") ",1)])])),_:1})])]),s("div",ae,[(l(!0),t(v,null,f(S.value,((e,a)=>(l(),t("div",{class:"w-3/12 xl:w-4/12 md:w-6/12 sm:w-full mb-7",key:"LineInfo"+a},[s("div",le,[h(k,{ErrorMachineInfo:e,ErrorCodeInfo:_.value[a]},null,8,["ErrorMachineInfo","ErrorCodeInfo"])])])))),128))])])}}};export{te as default};
